(()=>{var e={428(e){"use strict";e.exports=window.jQuery},458(e,t,n){var o,r,i;r=[n(428)],o=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n,o,r;return t&&t.requirejs||(t?o=t:t={},function(e){var t,i,s,a,l={},c={},d={},p={},u=Object.prototype.hasOwnProperty,h=[].slice,f=/\.js$/;function g(e,t){return u.call(e,t)}function y(e,t){var n,o,r,i,s,a,l,c,p,u,h,g=t&&t.split("/"),y=d.map,m=y&&y["*"]||{};if(e){for(s=(e=e.split("/")).length-1,d.nodeIdCompat&&f.test(e[s])&&(e[s]=e[s].replace(f,"")),"."===e[0].charAt(0)&&g&&(e=g.slice(0,g.length-1).concat(e)),p=0;p<e.length;p++)if("."===(h=e[p]))e.splice(p,1),p-=1;else if(".."===h){if(0===p||1===p&&".."===e[2]||".."===e[p-1])continue;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}if((g||m)&&y){for(p=(n=e.split("/")).length;p>0;p-=1){if(o=n.slice(0,p).join("/"),g)for(u=g.length;u>0;u-=1)if((r=y[g.slice(0,u).join("/")])&&(r=r[o])){i=r,a=p;break}if(i)break;!l&&m&&m[o]&&(l=m[o],c=p)}!i&&l&&(i=l,a=c),i&&(n.splice(0,a,i),e=n.join("/"))}return e}function m(t,n){return function(){var o=h.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),i.apply(e,o.concat([t,n]))}}function v(e){return function(t){l[e]=t}}function b(n){if(g(c,n)){var o=c[n];delete c[n],p[n]=!0,t.apply(e,o)}if(!g(l,n)&&!g(p,n))throw new Error("No "+n);return l[n]}function x(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function _(e){return e?x(e):[]}function w(e){return function(){return d&&d.config&&d.config[e]||{}}}s=function(e,t){var n,o,r=x(e),i=r[0],s=t[1];return e=r[1],i&&(n=b(i=y(i,s))),i?e=n&&n.normalize?n.normalize(e,(o=s,function(e){return y(e,o)})):y(e,s):(i=(r=x(e=y(e,s)))[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},a={require:function(e){return m(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:w(e)}}},t=function(t,n,o,r){var i,d,u,h,f,y,x,w=[],$=typeof o;if(y=_(r=r||t),"undefined"===$||"function"===$){for(n=!n.length&&o.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if("require"===(d=(h=s(n[f],y)).f))w[f]=a.require(t);else if("exports"===d)w[f]=a.exports(t),x=!0;else if("module"===d)i=w[f]=a.module(t);else if(g(l,d)||g(c,d)||g(p,d))w[f]=b(d);else{if(!h.p)throw new Error(t+" missing "+d);h.p.load(h.n,m(r,!0),v(d),{}),w[f]=l[d]}u=o?o.apply(l[t],w):void 0,t&&(i&&i.exports!==e&&i.exports!==l[t]?l[t]=i.exports:u===e&&x||(l[t]=u))}else t&&(l[t]=o)},n=o=i=function(n,o,r,l,c){if("string"==typeof n)return a[n]?a[n](o):b(s(n,_(o)).f);if(!n.splice){if((d=n).deps&&i(d.deps,d.callback),!o)return;o.splice?(n=o,o=r,r=null):n=e}return o=o||function(){},"function"==typeof r&&(r=l,l=c),l?t(e,n,o,r):setTimeout(function(){t(e,n,o,r)},4),i},i.config=function(e){return i(e)},n._defined=l,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),g(l,e)||g(c,e)||(c[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=n,t.require=o,t.define=r),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){var t={};function n(e){var t=e.prototype,n=[];for(var o in t)"function"==typeof t[o]&&"constructor"!==o&&n.push(o);return n}t.Extend=function(e,t){var n={}.hasOwnProperty;function o(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},t.Decorate=function(e,t){var o=n(t),r=n(e);function i(){var n=Array.prototype.unshift,o=t.prototype.constructor.length,r=e.prototype.constructor;o>0&&(n.call(arguments,e.prototype.constructor),r=t.prototype.constructor),r.apply(this,arguments)}t.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var s=0;s<r.length;s++){var a=r[s];i.prototype[a]=e.prototype[a]}for(var l=function(e){var n=function(){};e in i.prototype&&(n=i.prototype[e]);var o=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,n),o.apply(this,arguments)}},c=0;c<o.length;c++){var d=o[c];i.prototype[d]=l(d)}return i};var o=function(){this.listeners={}};o.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},o.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},o.prototype.invoke=function(e,t){for(var n=0,o=e.length;n<o;n++)e[n].apply(this,t)},t.Observable=o,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),o=e;if(1!==n.length){for(var r=0;r<n.length;r++){var i=n[r];(i=i.substring(0,1).toLowerCase()+i.substring(1))in o||(o[i]={}),r==n.length-1&&(o[i]=e[t]),o=o[i]}delete e[t]}}return e},t.hasScroll=function(t,n){var o=e(n),r=n.style.overflowX,i=n.style.overflowY;return(r!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===r||"scroll"===i||o.innerHeight()<n.scrollHeight||o.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var o=e();e.map(n,function(e){o=o.add(e)}),n=o}t.append(n)},t.__cache={};var r=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},t.StoreData=function(e,n,o){var r=t.GetUniqueElementId(e);t.__cache[r]||(t.__cache[r]={}),t.__cache[r][n]=o},t.GetData=function(n,o){var r=t.GetUniqueElementId(n);return o?t.__cache[r]&&null!=t.__cache[r][o]?t.__cache[r][o]:e(n).data(o):t.__cache[r]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,o){this.$element=e,this.data=o,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var o=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);o.append(n(r(t.args))),o[0].className+=" select2-results__message",this.$results.append(o)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var o=e.results[n],r=this.option(o);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(o){var r=e.map(o,function(e){return e.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=e(this),o=t.GetData(this,"data"),i=""+o.id;null!=o.element&&o.element.selected||null==o.element&&e.inArray(i,r)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var o=document.createElement("li");o.className="select2-results__option";var r={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var s in(null!=n.element&&i.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==n.id&&delete r["aria-selected"],null!=n._resultId&&(o.id=n._resultId),n.title&&(o.title=n.title),n.children&&(r.role="group",r["aria-label"]=n.text,delete r["aria-selected"]),r){var a=r[s];o.setAttribute(s,a)}if(n.children){var l=e(o),c=document.createElement("strong");c.className="select2-results__group",e(c),this.template(n,c);for(var d=[],p=0;p<n.children.length;p++){var u=n.children[p],h=this.option(u);d.push(h)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(d),l.append(c),l.append(f)}else this.template(n,o);return t.StoreData(o,"data",n),o},n.prototype.bind=function(n,o){var r=this,i=n.id+"-results";this.$results.attr("id",i),n.on("results:all",function(e){r.clear(),r.append(e.data),n.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),n.on("results:append",function(e){r.append(e.data),n.isOpen()&&r.setClasses()}),n.on("query",function(e){r.hideMessages(),r.showLoading(e)}),n.on("select",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),n.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),n.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:n})}}),n.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var o=n-1;0===e.length&&(o=0);var i=t.eq(o);i.trigger("mouseenter");var s=r.$results.offset().top,a=i.offset().top,l=r.$results.scrollTop()+(a-s);0===o?r.$results.scrollTop(0):a-s<0&&r.$results.scrollTop(l)}}),n.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var o=t.eq(n);o.trigger("mouseenter");var i=r.$results.offset().top+r.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),a=r.$results.scrollTop()+s-i;0===n?r.$results.scrollTop(0):s>i&&r.$results.scrollTop(a)}}),n.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,o=e.deltaY>0&&t-e.deltaY<=0,i=e.deltaY<0&&n<=r.$results.height();o?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var o=e(this),i=t.GetData(this,"data");"true"!==o.attr("aria-selected")?r.trigger("select",{originalEvent:n,data:i}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:n,data:i}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var o=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:o,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,o=e.offset().top,r=this.$results.scrollTop()+(o-n),i=o-n;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var o=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=o(t,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=r(i):e(n).append(i)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return t.Extend(o,t.Observable),o.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},o.prototype.bind=function(e,t){var o=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){o.trigger("focus",e)}),this.$selection.on("blur",function(e){o._handleBlur(e)}),this.$selection.on("keydown",function(e){o.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){o.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){o.update(e.data)}),e.on("open",function(){o.$selection.attr("aria-expanded","true"),o.$selection.attr("aria-owns",r),o._attachCloseHandler(e)}),e.on("close",function(){o.$selection.attr("aria-expanded","false"),o.$selection.removeAttr("aria-activedescendant"),o.$selection.removeAttr("aria-owns"),o.$selection.trigger("focus"),o._detachCloseHandler(e)}),e.on("enable",function(){o.$selection.attr("tabindex",o._tabindex),o.$selection.attr("aria-disabled","false")}),e.on("disable",function(){o.$selection.attr("tabindex","-1"),o.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},o.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,function(n){var o=e(n.target).closest(".select2");e(".select2.select2-container--open").each(function(){this!=o[0]&&t.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,o){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var o=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",o).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",o),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),o=this.display(t,n);n.empty().append(o);var r=t.title||t.text;r?n.attr("title",r):n.removeAttr("title")}else this.clear()},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function o(e,t){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},o.prototype.bind=function(t,r){var i=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.isDisabled()){var o=e(this).parent(),r=n.GetData(o[0],"data");i.trigger("unselect",{originalEvent:t,data:r})}})},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],o=0;o<e.length;o++){var r=e[o],i=this.selectionContainer(),s=this.display(r,i);i.append(s);var a=r.title||r.text;a&&i.attr("title",a),n.StoreData(i[0],"data",r),t.push(i)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},o}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},t}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,n){function o(){}return o.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){o._handleClear(e)}),t.on("keypress",function(e){o._handleKeyboardClear(e,t)})},o.prototype._handleClear=function(e,t){if(!this.isDisabled()){var o=this.$selection.find(".select2-selection__clear");if(0!==o.length){t.stopPropagation();var r=n.GetData(o[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var s={data:r};if(this.trigger("clear",s),s.prevented)this.$element.val(i);else{for(var a=0;a<r.length;a++)if(s={data:r[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},o.prototype._handleKeyboardClear=function(e,n,o){o.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},o.prototype.update=function(t,o){if(t.call(this,o),!(this.$selection.find(".select2-selection__placeholder").length>0||0===o.length)){var r=this.options.get("translations").get("removeAllItems"),i=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');n.StoreData(i[0],"data",o),this.$selection.find(".select2-selection__rendered").prepend(i)}},o}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function o(e,t,n){e.call(this,t,n)}return o.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var o=t.call(this);return this._transferTabIndex(),o},o.prototype.bind=function(e,o,r){var i=this,s=o.id+"-results";e.call(this,o,r),o.on("open",function(){i.$search.attr("aria-controls",s),i.$search.trigger("focus")}),o.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),o.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),o.on("disable",function(){i.$search.prop("disabled",!0)}),o.on("focus",function(e){i.$search.trigger("focus")}),o.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===i.$search.val()){var o=i.$searchContainer.prev(".select2-selection__choice");if(o.length>0){var r=t.GetData(o[0],"data");i.searchRemoveChoice(r),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){i.$search.val()&&e.stopPropagation()});var a=document.documentMode,l=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){l?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&i.handleSearch(e)}})},o.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},o.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},o.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},o.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},o.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},o.prototype.resizeSearch=function(){this.$search.css("width","25px");var e;e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},o}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,o){var r=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,o),n.on("*",function(t,n){if(-1!==e.inArray(t,i)){n=n||{};var o=e.Event("select2:"+t,{params:n});r.$element.trigger(o),-1!==e.inArray(t,s)&&(n.prevented=o.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var o=t(e);n._cache[e]=o}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Œ:"OE",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ώ:"ω",ς:"σ","’":"'"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var o=t.id+"-result-";return o+=e.generateChars(4),null!=n.id?o+="-"+n.id.toString():o+="-"+e.generateChars(4),o},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return t.Extend(o,e),o.prototype.current=function(e){var t=[],o=this;this.$element.find(":selected").each(function(){var e=n(this),r=o.item(e);t.push(r)}),e(t)},o.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(o){var r=[];(e=[e]).push.apply(e,o);for(var i=0;i<e.length;i++){var s=e[i].id;-1===n.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("input").trigger("change")});else{var o=e.id;this.$element.val(o),this.$element.trigger("input").trigger("change")}},o.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(o){for(var r=[],i=0;i<o.length;i++){var s=o[i].id;s!==e.id&&-1===n.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("input").trigger("change")})}},o.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},o.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},o.prototype.query=function(e,t){var o=[],r=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var i=r.item(t),s=r.matches(e,i);null!==s&&o.push(s)}}),t({results:o})},o.prototype.addOptions=function(e){t.appendMany(this.$element,e)},o.prototype.option=function(e){var o;e.children?(o=document.createElement("optgroup")).label=e.text:void 0!==(o=document.createElement("option")).textContent?o.textContent=e.text:o.innerText=e.text,void 0!==e.id&&(o.value=e.id),e.disabled&&(o.disabled=!0),e.selected&&(o.selected=!0),e.title&&(o.title=e.title);var r=n(o),i=this._normalizeItem(e);return i.element=o,t.StoreData(o,"data",i),r},o.prototype.item=function(e){var o={};if(null!=(o=t.GetData(e[0],"data")))return o;if(e.is("option"))o={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){o={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),i=[],s=0;s<r.length;s++){var a=n(r[s]),l=this.item(a);i.push(l)}o.children=i}return(o=this._normalizeItem(o)).element=e[0],t.StoreData(e[0],"data",o),o},o.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},o.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},o}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function o(e,t){this._dataToConvert=t.get("data")||[],o.__super__.constructor.call(this,e,t)}return t.Extend(o,e),o.prototype.bind=function(e,t){o.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},o.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),o.__super__.select.call(this,e)},o.prototype.convertToOptions=function(e){var o=this,r=this.$element.find("option"),i=r.map(function(){return o.item(n(this)).id}).get(),s=[];function a(e){return function(){return n(this).val()==e.id}}for(var l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(n.inArray(c.id,i)>=0){var d=r.filter(a(c)),p=this.item(d),u=n.extend(!0,{},c,p),h=this.option(u);d.replaceWith(h)}else{var f=this.option(c);if(c.children){var g=this.convertToOptions(c.children);t.appendMany(f,g)}s.push(f)}}return s},o}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function o(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),o.__super__.constructor.call(this,e,t)}return t.Extend(o,e),o.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,o){var r=n.ajax(e);return r.then(t),r.fail(o),r}};return n.extend({},t,e,!0)},o.prototype.processResults=function(e){return e},o.prototype.query=function(e,t){var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);function i(){var i=r.transport(r,function(r){var i=o.processResults(r,e);o.options.get("debug")&&window.console&&console.error&&(i&&i.results&&n.isArray(i.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(i)},function(){(!("status"in i)||0!==i.status&&"0"!==i.status)&&o.trigger("results:message",{message:"errorLoading"})});o._request=i}"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},o}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,o){var r=o.get("tags"),i=o.get("createTag");void 0!==i&&(this.createTag=i);var s=o.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,o),e.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,n){var o=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function e(r,i){for(var s=r.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!e({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!i&&(r.data=s,void n(r))}if(i)return!0;var d=o.createTag(t);if(null!=d){var p=o.option(d);p.attr("data-select2-tag",!0),o.addOptions([p]),o.insertTag(s,d)}r.results=s,n(r)}):e.call(this,t,n)},t.prototype.createTag=function(t,n){var o=e.trim(n.term);return""===o?null:{id:o,text:o}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var o=n.get("tokenizer");void 0!==o&&(this.tokenizer=o),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,o){var r=this;n.term=n.term||"";var i=this.tokenizer(n,this.options,function(t){var n=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var o=r.option(n);o.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([o])}!function(e){r.trigger("select",{data:e})}(n)});i.term!==n.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),n.term=i.term),t.call(this,n,o)},t.prototype.tokenizer=function(t,n,o,r){for(var i=o.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var c=s[a];if(-1!==e.inArray(c,i)){var d=s.substr(0,a),p=l(e.extend({},n,{term:d}));null!=p?(r(p),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("select",function(){o._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var o=this;this._checkIfMaximumSelected(function(){e.call(o,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){var o=null!=e?e.length:0;n.maximumSelectionLength>0&&o>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),o=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=o,this.$search=o.find("input"),n.prepend(o),n},n.prototype.bind=function(t,n,o){var r=this,i=n.id+"-results";t.call(this,n,o),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",i),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||r.$search.trigger("focus")}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,o){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,o)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),o=t.length-1;o>=0;o--){var r=t[o];this.placeholder.id===r.id&&n.splice(o,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,o){this.lastParams={},e.call(this,t,n,o),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("query",function(e){o.lastParams=e,o.loading=!0}),t.on("query:append",function(e){o.lastParams=e,o.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,o){this.$dropdownParent=e(o.get("dropdownParent")||document.body),t.call(this,n,o)}return n.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("open",function(){o._showDropdown(),o._attachPositioningHandler(t),o._bindContainerResultHandlers(t)}),t.on("close",function(){o._hideDropdown(),o._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),o=t.call(this);return n.append(o),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,o){var r=this,i="scroll.select2."+o.id,s="resize.select2."+o.id,a="orientationchange.select2."+o.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(i,function(n){var o=t.GetData(this,"select2-scroll-position");e(this).scrollTop(o.y)}),e(window).on(i+" "+s+" "+a,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,o){var r="scroll.select2."+o.id,i="resize.select2."+o.id,s="orientationchange.select2."+o.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+i+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),o=this.$dropdown.hasClass("select2-dropdown--below"),r=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=i.top,s.bottom=i.top+s.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),d=l<i.top-a,p=c>i.bottom+a,u={left:i.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(f=h.offset()),u.top-=f.top,u.left-=f.left,n||o||(r="below"),p||!d||n?!d&&p&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(u.top=s.top-f.top-a),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(u)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,o=0;o<t.length;o++){var r=t[o];r.children?n+=e(r.children):n++}return n}function t(e,t,n,o){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,o)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("close",function(e){o._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var o=n.originalSelect2Event;if("select"===o._type||"unselect"===o._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var i=e.GetData(r[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var o=this;e.call(this,t,n),t.on("select",function(e){o._selectTriggered(e)}),t.on("unselect",function(e){o._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,o,r,i,s,a,l,c,d,p,u,h,f,g,y,m,v,b,x,_,w,$,A,C,S,O,k){function E(){this.reset()}return E.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=h:d.dataAdapter=u,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,y)),null!=d.query){var p=t(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,p)}if(null!=d.initSelection){var k=t(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,k)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,$)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,w)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,S))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=x;else{var E=c.Decorate(x,_);d.dropdownAdapter=E}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,C)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,O)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var T=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,A)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=o,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,i)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var D=t(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,D)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}d.language=this._resolveLanguage(d.language),d.language.push("en");for(var I=[],N=0;N<d.language.length;N++){var P=d.language[N];-1===I.indexOf(P)&&I.push(P)}return d.language=I,d.translations=this._processTranslations(d.language,d.debug),d},E.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return p[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(o,r){if(""===e.trim(o.term))return r;if(r.children&&r.children.length>0){for(var i=e.extend(!0,{},r),s=r.children.length-1;s>=0;s--)null==n(o,r.children[s])&&i.children.splice(s,1);return i.children.length>0?i:n(o,i)}var a=t(r.text).toUpperCase(),l=t(o.term).toUpperCase();return a.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},E.prototype.applyFromElement=function(e,t){var n=e.language,o=this.defaults.language,r=t.prop("lang"),i=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(o),this._resolveLanguage(i));return e.language=s,e},E.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var o=[],r=0;r<n.length;r++)if(o.push(n[r]),"string"==typeof n[r]&&n[r].indexOf("-")>0){var i=n[r].split("-")[0];o.push(i)}return o},E.prototype._processTranslations=function(t,n){for(var o=new d,r=0;r<t.length;r++){var i=new d,s=t[r];if("string"==typeof s)try{i=d.loadPath(s)}catch(e){try{s=this.defaults.amdLanguageBase+s,i=d.loadPath(s)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else i=e.isPlainObject(s)?new d(s):s;o.extend(i)}return o},E.prototype.set=function(t,n){var o={};o[e.camelCase(t)]=n;var r=c._convertData(o);e.extend(!0,this.defaults,r)},new E}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,o){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),null!=r&&(this.options=n.applyFromElement(this.options,r)),this.options=n.apply(this.options),r&&r.is("input")){var i=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=o.Decorate(this.options.dataAdapter,i)}}return r.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),o.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),o.StoreData(e[0],"data",o.GetData(e[0],"select2Tags")),o.StoreData(e[0],"tags",!0)),o.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",o.GetData(e[0],"ajaxUrl")),o.StoreData(e[0],"ajax-Url",o.GetData(e[0],"ajaxUrl")));var r={};function i(e,t){return t.toUpperCase()}for(var s=0;s<e[0].attributes.length;s++){var a=e[0].attributes[s].name,l="data-";if(a.substr(0,5)==l){var c=a.substring(5),d=o.GetData(e[0],c);r[c.replace(/-([a-z])/g,i)]=d}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(r=t.extend(!0,{},e[0].dataset,r));var p=t.extend(!0,{},o.GetData(e[0]),r);for(var u in p=o._convertData(p))t.inArray(u,n)>-1||(t.isPlainObject(this.options[u])?t.extend(this.options[u],p[u]):this.options[u]=p[u]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,o){var r=function(e,o){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),o=o||{},this.options=new t(o,e),r.__super__.constructor.call(this);var i=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",i),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var d=this.options.get("resultsAdapter");this.results=new d(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var p=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){p.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var o=this._resolveWidth(e,"style");return null!=o?o:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var i=e.attr("style");if("string"!=typeof i)return null;for(var s=i.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==t?window.getComputedStyle(e[0]).width:t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){e._syncA(),e._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(o,r){-1===e.inArray(o,n)&&t.trigger(o,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===o.ESC||n===o.TAB||n===o.UP&&t.altKey?(e.close(t),t.preventDefault()):n===o.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===o.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===o.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===o.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===o.ENTER||n===o.SPACE||n===o.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(t,n){var o=!1,r=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(n)if(n.addedNodes&&n.addedNodes.length>0)for(var i=0;i<n.addedNodes.length;i++)n.addedNodes[i].selected&&(o=!0);else n.removedNodes&&n.removedNodes.length>0?o=!0:e.isArray(n)&&e.each(n,function(e,t){if(r._isChangeMutation(e,t))return o=!0,!1});else o=!0;return o}},r.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),o=this;n&&this.dataAdapter.current(function(e){o.trigger("selection:update",{data:e})})},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,o={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in o){var i=o[e],s={prevented:!1,name:e,args:t};if(n.call(this,i,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("input").trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},r}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,n,o,r){if(null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var o=e.extend(!0,{},t);new n(e(this),o)}),this;if("string"==typeof t){var o,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),o=e[t].apply(e,s)}),e.inArray(t,i)>-1?this:o}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=o),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n},void 0===(i=o.apply(t,r))||(e.exports=i)},739(){!function(e,t){var n={version:304};if("wpColorPickerAlpha"in window&&"version"in window.wpColorPickerAlpha){var o=parseInt(window.wpColorPickerAlpha.version,10);if(!isNaN(o)&&o>=n.version)return}if(!Color.fn.hasOwnProperty("to_s")){Color.fn.to_s=function(e){if(this.error)return"";"hex"===(e=e||"hex")&&this._alpha<1&&(e="rgba");var t="";if("hex"===e)t=this.toString();else if("octohex"===e){t=this.toString();var n=parseInt(255*this._alpha,10).toString(16);1===n.length&&(n=`0${n}`),t+=n}else t=this.toCSS(e).replace(/\(\s+/,"(").replace(/\s+\)/,")");return t},Color.fn.fromHex=function(e){if(3===(e=e.replace(/^#/,"").replace(/^0x/,"")).length||4===e.length){for(var t="",n=0;n<e.length;n++)t+=""+e[n],t+=""+e[n];e=t}if(8===e.length){if(/^[0-9A-F]{8}$/i.test(e)){var o=parseInt(e.substring(6),16);isNaN(o)?this._error():this.a(o/255)}else this._error();e=e.substring(0,6)}return this.error||(this.error=!/^[0-9A-F]{6}$/i.test(e)),this.fromInt(parseInt(e,16))},window.wpColorPickerAlpha=n;var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==";e.widget("a8c.iris",e.a8c.iris,{alphaOptions:{alphaEnabled:!1},_getColor:function(e){return e===t&&(e=this._color),this.alphaOptions.alphaEnabled?(e=e.to_s(this.alphaOptions.alphaColorType),this.alphaOptions.alphaColorWithSpace||(e=e.replace(/\s+/g,"")),e):e.toString()},_create:function(){try{this.alphaOptions=this.element.wpColorPicker("instance").alphaOptions}catch(e){}e.extend({},this.alphaOptions,{alphaEnabled:!1,alphaCustomWidth:130,alphaReset:!1,alphaColorType:"hex",alphaColorWithSpace:!1,alphaSkipDebounce:!1,alphaDebounceTimeout:100}),this._super()},_addInputListeners:function(e){var t=this,n=function(n){var o=e.val(),r=new Color(o),i=(o=o.replace(/^(#|(rgb|hsl)a?)/,""),t.alphaOptions.alphaColorType);e.removeClass("iris-error"),r.error?""!==o&&e.addClass("iris-error"):"hex"===i&&"keyup"===n.type&&o.match(/^[0-9a-fA-F]{3}$/)||r.toIEOctoHex()!==t._color.toIEOctoHex()&&t._setOption("color",t._getColor(r))};e.on("change",n),t.alphaOptions.alphaSkipDebounce||e.on("keyup",t._debounce(n,t.alphaOptions.alphaDebounceTimeout)),t.options.hide&&e.one("focus",function(){t.show()})},_initControls:function(){if(this._super(),this.alphaOptions.alphaEnabled){var t=this,n=t.controls.strip.clone(!1,!1),o=n.find(".iris-slider-offset"),r={stripAlpha:n,stripAlphaSlider:o};n.addClass("iris-strip-alpha"),o.addClass("iris-slider-offset-alpha"),n.appendTo(t.picker.find(".iris-picker-inner")),e.each(r,function(e,n){t.controls[e]=n}),t.controls.stripAlphaSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*t._color._alpha),slide:function(e,n){t.active="strip",t._color._alpha=parseFloat(n.value/100),t._change.apply(t,arguments)}})}},_dimensions:function(e){if(this._super(e),this.alphaOptions.alphaEnabled){var t,n,o,r,i,s=this,a=s.options,l=s.controls.square,c=s.picker.find(".iris-strip");for(t=Math.round(s.picker.outerWidth(!0)-(a.border?22:0)),n=Math.round(l.outerWidth()),o=Math.round((t-n)/2),r=Math.round(o/2),i=Math.round(n+2*o+2*r);i>t;)o=Math.round(o-2),r=Math.round(r-1),i=Math.round(n+2*o+2*r);l.css("margin","0"),c.width(o).css("margin-left",r+"px")}},_change:function(){var t=this,n=t.active;if(t._super(),t.alphaOptions.alphaEnabled){var o=t.controls,i=parseInt(100*t._color._alpha),s=t._color.toRgb(),a=["rgb("+s.r+","+s.g+","+s.b+") 0%","rgba("+s.r+","+s.g+","+s.b+", 0) 100%"];t.picker.closest(".wp-picker-container").find(".wp-color-result"),t.options.color=t._getColor(),o.stripAlpha.css({background:"linear-gradient(to bottom, "+a.join(", ")+"), url("+r+")"}),n&&o.stripAlphaSlider.slider("value",i),t._color.error||t.element.removeClass("iris-error").val(t.options.color),t.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){var n=e(this).data("color");t.alphaOptions.alphaReset&&(t._color._alpha=1,n=t._getColor()),t._setOption("color",n)})}},_paintDimension:function(e,t){var n=this,o=!1;n.alphaOptions.alphaEnabled&&"strip"===t&&(o=n._color,n._color=new Color(o.toString()),n.hue=n._color.h()),n._super(e,t),o&&(n._color=o)},_setOption:function(e,t){var n=this;if("color"!==e||!n.alphaOptions.alphaEnabled)return n._super(e,t);t=""+t,newColor=new Color(t).setHSpace(n.options.mode),newColor.error||n._getColor(newColor)===n._getColor()||(n._color=newColor,n.options.color=n._getColor(),n.active="external",n._change())},color:function(e){return!0===e?this._color.clone():e===t?this._getColor():void this.option("color",e)}}),e.widget("wp.wpColorPicker",e.wp.wpColorPicker,{alphaOptions:{alphaEnabled:!1},_getAlphaOptions:function(){var t=this.element,n=t.data("type")||this.options.type,o=t.data("defaultColor")||t.val(),r={alphaEnabled:t.data("alphaEnabled")||!1,alphaCustomWidth:130,alphaReset:!1,alphaColorType:"rgb",alphaColorWithSpace:!1,alphaSkipDebounce:!!t.data("alphaSkipDebounce")||!1};return r.alphaEnabled&&(r.alphaEnabled=t.is("input")&&"full"===n),r.alphaEnabled?(r.alphaColorWithSpace=o&&o.match(/\s/),e.each(r,function(e,n){var i=t.data(e)||n;switch(e){case"alphaCustomWidth":i=i?parseInt(i,10):0,i=isNaN(i)?n:i;break;case"alphaColorType":i.match(/^((octo)?hex|(rgb|hsl)a?)$/)||(i=o&&o.match(/^#/)?"hex":o&&o.match(/^hsla?/)?"hsl":n);break;default:i=!!i}r[e]=i}),r):r},_create:function(){e.support.iris&&(this.alphaOptions=this._getAlphaOptions(),this._super())},_addListeners:function(){if(!this.alphaOptions.alphaEnabled)return this._super();var t=this,n=t.element,o=t.toggler.is("a");this.alphaOptions.defaultWidth=n.width(),this.alphaOptions.alphaCustomWidth&&n.width(parseInt(this.alphaOptions.defaultWidth+this.alphaOptions.alphaCustomWidth,10)),t.toggler.css({position:"relative","background-image":"url("+r+")"}),o?t.toggler.html('<span class="color-alpha" />'):t.toggler.append('<span class="color-alpha" />'),t.colorAlpha=t.toggler.find("span.color-alpha").css({width:"30px",height:"100%",position:"absolute",top:0,"background-color":n.val()}),"ltr"===t.colorAlpha.css("direction")?t.colorAlpha.css({"border-bottom-left-radius":"2px","border-top-left-radius":"2px",left:0}):t.colorAlpha.css({"border-bottom-right-radius":"2px","border-top-right-radius":"2px",right:0}),n.iris({change:function(e,n){t.colorAlpha.css({"background-color":n.color.to_s(t.alphaOptions.alphaColorType)}),"function"==typeof t.options.change&&t.options.change.call(this,e,n)}}),t.wrap.on("click.wpcolorpicker",function(e){e.stopPropagation()}),t.toggler.on("click",function(){t.toggler.hasClass("wp-picker-open")?t.close():t.open()}),n.on("change",function(r){var i=e(this).val();(n.hasClass("iris-error")||""===i||i.match(/^(#|(rgb|hsl)a?)$/))&&(o&&t.toggler.removeAttr("style"),t.colorAlpha.css("background-color",""),"function"==typeof t.options.clear&&t.options.clear.call(this,r))}),t.button.on("click",function(r){e(this).hasClass("wp-picker-default")?n.val(t.options.defaultColor).change():e(this).hasClass("wp-picker-clear")&&(n.val(""),o&&t.toggler.removeAttr("style"),t.colorAlpha.css("background-color",""),"function"==typeof t.options.clear&&t.options.clear.call(this,r),n.trigger("change"))})}})}}(jQuery)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(428),t=n.n(e);const o=window.wp.i18n;function r(e){const n=t()("<div>").addClass(["flex-hero"]);return e.styles?.hero?.backgroundColor&&n.css("background-color",e.styles.hero.backgroundColor),n}function i(e){const n=t()("<div>").addClass(["flex-header"]);return e.styles?.header?.backgroundColor&&n.css("background-color",e.styles.header.backgroundColor),n}function s(e){const n=t()("<div>").addClass(["flex-body"]);return e.styles?.body?.backgroundColor&&n.css("background-color",e.styles.body.backgroundColor),n}function a(e){const n=t()("<div>").addClass(["flex-footer"]);return e.styles?.footer?.backgroundColor&&n.css("background-color",e.styles.footer.backgroundColor),n}function l(e,t,n){e.margin&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.margin)?t.push(`margin-${e.margin}`):n["margin-top"]=e.margin),e.position&&t.push(`position-${e.position}`),e.offsetTop&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.offsetTop)?t.push(`offset-top-${e.offsetTop}`):n.top=e.offsetTop),e.offsetBottom&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.offsetBottom)?t.push(`offset-bottom-${e.offsetBottom}`):n.bottom=e.offsetBottom),e.offsetStart&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.offsetStart)?t.push(`offset-start-${e.offsetStart}`):n.left=e.offsetStart),e.offsetEnd&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.offsetEnd)?t.push(`offset-end-${e.offsetEnd}`):n.right=e.offsetEnd)}function c(e,t,n){if(Array.isArray(n)){const t=[];n.forEach((e,n)=>{let o;var r,i;if("box"===e.type)o=c(p(e),null!==(r=e.layout)&&void 0!==r?r:"",null!==(i=e.contents)&&void 0!==i?i:[]);else if("text"===e.type&&e.contents&&e.contents.length>0){var s;o=c(d(0,e),null!==(s=e.layout)&&void 0!==s?s:"",e.contents)}else o=d(0,e);t[n]=o}),n.forEach((n,o)=>{"span"===n.type?e.find("p").append(t[o]):e.append(t[o])})}return e}function d(e,n){switch(n.type){case"image":return function(e){const n={},o=["flex-type-image"],r={"background-image":`url('${e.url}')`};l(e,o,n),e.backgroundColor&&(r["background-color"]=`${e.backgroundColor}`),e.aspectMode&&o.push(`aspect-${e.aspectMode}`),e.gravity&&o.push(`gravity-${e.gravity}`),e.size&&(["xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"].includes(e.size)?o.push(`size-${e.size}`):n.width=e.size);let i="100";if(e.aspectRatio&&""!==e.aspectRatio){const t=e.aspectRatio.split(":");i=100*parseFloat(t[1])/parseFloat(t[0])}else i="100";return e.flex&&(e.flex>0&&(n.flex=`${e.flex} 0 auto`),o.push(`flex-${e.flex}`)),e.align&&o.push(`align-${e.align}`),t()("<div>").addClass(o).css(n).append(t()("<div>").css({}).append(t()("<a>").css("padding-bottom",`${i}%`).append(t()("<span>").css(r))))}(n);case"icon":return function(e){const n={},o=["flex-type-icon","flex-0"],r={"background-image":`url('${e.url}')`};if(l(e,o,n),e.size&&(["xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"].includes(e.size)?o.push(`size-${e.size}`):n["font-size"]=e.size),e.aspectRatio&&""!==e.aspectRatio){const t=e.aspectRatio.split(":"),n=parseFloat(t[0])/parseFloat(t[1]);r.width=`${n}em`}else r.width="1em";return t()("<div>").addClass(o).css(n).append(t()("<div>").append(t()("<span>").css(r)))}(n);case"text":return function(e){const n={},o=["flex-type-text"];if(l(e,o,n),e.flex&&(e.flex>0&&(n.flex=`${e.flex} 0 auto`),o.push(`flex-${e.flex}`)),e.align&&o.push(`align-${e.align}`),e.size&&(["xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"].includes(e.size)?o.push(`size-${e.size}`):n["font-size"]=e.size),e.color&&(n.color=e.color),e.weight&&o.push(`font-weight-${e.weight}`),e.style&&o.push(`font-style-${e.style}`),e.decoration&&o.push(`decoration-${e.decoration}`),e.wrap&&o.push("word-wrap"),e.gravity&&o.push(`gravity-${e.gravity}`),e.lineSpacing&&e.lineSpacing.indexOf("px")>=0){const t=parseInt(e.lineSpacing.replace("px",""))+15+"px";n["line-height"]=t}return t()("<div>").addClass(o).css(n).append(t()("<p>").text(e.text?e.contents?"":e.text:""))}(n);case"span":return function(e){var n;const o={},r=["flex-type-span"];return l(e,r,o),e.size&&(["xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"].includes(e.size)?r.push(`size-${e.size}`):o["font-size"]=e.size),e.color&&(o.color=e.color),e.weight&&r.push(`font-weight-${e.weight}`),e.style&&r.push(`font-style-${e.style}`),e.decoration&&r.push(`decoration-${e.decoration}`),t()("<span>").addClass(r).css(o).text(null!==(n=e.text)&&void 0!==n?n:"")}(n);case"button":return function(e){var n;const o={},r={},i=["flex-type-button"];return l(e,i,o),e.style?i.push(`style-${e.style}`):i.push("style-link"),e.flex&&(e.flex>0&&(o.flex=`${e.flex} 0 auto`),i.push(`flex-${e.flex}`)),e.height&&(["sm","md"].includes(e.height)?i.push(`height-${e.height}`):o.height=e.height),e.color&&("link"===e.style?r.color=`${e.color}`:r["background-color"]=`${e.color}`),e.gravity&&i.push(`gravity-${e.gravity}`),t()("<div>").addClass(i).css(o).append(t()("<a>").append(t()("<div>").css(r).text(null!==(n=e.action?.label)&&void 0!==n?n:"")))}(n);case"separator":return function(e,n){const o={},r=["flex-type-separator","flex-0"];return l(n,r,o),n.color&&(o["border-color"]=`${n.color}`),t()("<div>").addClass(r).css(o)}(0,n)}return t()("<div>")}function p(e){const n={},o=["flex-type-box"];if(l(e,o,n),"baseline"===e.layout?o.push("layout-baseline","layout-horizontal"):"horizontal"===e.layout?o.push("layout-horizontal"):"vertical"===e.layout&&o.push("layout-vertical"),e.backgroundColor&&(n["background-color"]=`${e.backgroundColor}`),e.borderColor&&(n["border-color"]=`${e.borderColor}`),e.borderWidth&&(["none","light","normal","medium","semi-bold","bold"].includes(e.borderWidth)?o.push(`border-width-${e.borderWidth}`):n["border-width"]=e.borderWidth),e.cornerRadius&&(["none","xs","sm","md","lg","xl","xxl"].includes(e.cornerRadius)?o.push(`border-radius-${e.cornerRadius}`):n["border-radius"]=e.cornerRadius),e.width&&(n.width=e.width),e.maxWidth&&(n["max-width"]=e.maxWidth),e.height&&(n.height=e.height),e.maxHeight&&(n["max-height"]=e.maxHeight),e.flex&&(e.flex>0&&(n.flex=`${e.flex} 0 auto`),o.push(`flex-${e.flex}`)),e.justifyContent&&o.push(`justify-${e.justifyContent}`),e.alignItems&&o.push(`align-${e.alignItems}`),e.spacing&&e.spacing.indexOf("px")>=0||e.spacing&&o.push(`spacing-${e.spacing}`),e.paddingAll&&e.paddingAll.indexOf("px")>=0?n.padding=e.paddingAll:e.paddingAll&&o.push(`padding-${e.paddingAll}`),e.paddingTop&&e.paddingTop.indexOf("px")>=0?n["padding-top"]=e.paddingTop:e.paddingTop&&o.push(`padding-top-${e.paddingTop}`),e.paddingBottom&&e.paddingBottom.indexOf("px")>=0?n["padding-bottom"]=e.paddingBottom:e.paddingBottom&&o.push(`padding-bottom-${e.paddingBottom}`),e.paddingStart&&e.paddingStart.indexOf("px")>=0?n["padding-start"]=e.paddingStart:e.paddingStart&&o.push(`padding-start-${e.paddingStart}`),e.paddingEnd&&e.paddingEnd.indexOf("px")>=0?n["padding-end"]=e.paddingEnd:e.paddingEnd&&o.push(`padding-end-${e.paddingEnd}`),e.background&&"linearGradient"===e.background.type){var r;const t=null!==(r=e.background.centerPosition)&&void 0!==r?r:"50%";e.background.centerColor?n.background=`linear-gradient(${e.background.angle}, ${e.background.startColor} 0%, ${e.background.centerColor} ${t}, ${e.background.endColor} 100%)`:n.background=`linear-gradient(${e.background.angle}, ${e.background.startColor} 0%, ${e.background.endColor} 100%)`}return t()("<div>").addClass(o).css(n)}function u(e,n){const o=t()(e).contents().find(".flex-message");o.length?o.empty().append(function(e){var n;const o=t()("<div>").addClass(["flex-bubble",`size-${e.size}`]).attr("dir",null!==(n=e.direction)&&void 0!==n?n:"ltr");for(const t in e.header){var l;"type"===t&&"box"===e.header[t]&&o.append(i(e).append(c(p(e.header),e.header.layout,null!==(l=e.header.contents)&&void 0!==l?l:[])))}for(const t in e.hero)if("type"===t){var u;"box"===e.hero[t]&&o.append(r(e).append(c(p(e.hero),e.hero.layout,null!==(u=e.hero.contents)&&void 0!==u?u:[]))),"image"===e.hero[t]&&o.append(r(e).append(d(0,e.hero)))}for(const t in e.body){var h;"type"===t&&"box"===e.body[t]&&o.append(s(e).append(c(p(e.body),e.body.layout,null!==(h=e.body.contents)&&void 0!==h?h:[])))}for(const t in e.footer){var f;"type"===t&&"box"===e.footer[t]&&o.append(a(e).append(c(p(e.footer),e.footer.layout,null!==(f=e.footer.contents)&&void 0!==f?f:[])))}return o}(n)):setTimeout(()=>{u(e,n)})}n(458),n(739);const h={type:"bubble",body:{type:"box",layout:"vertical",contents:[{type:"text",text:"Hello World!!",size:"md"}]}},f={bubble:"🫧",header:"📄",hero:"📄",body:"📄",footer:"📄",box:"📦",text:"📝",button:"🔘",image:"🖼️",icon:"⭐",separator:"➖",span:"✏️"},g={header:["box"],body:["box"],footer:["box"],hero:["image","box"],box:{horizontal:["box","button","image","text","separator"],vertical:["box","button","image","text","separator"],baseline:["icon","text"]},text:["span"]},y={bubble:{size:{label:(0,o.__)("Size","ry-line"),type:"select",required:!0,default:"mega",options:["nano","micro","deca","hecto","kilo","mega","giga"]},direction:{label:(0,o.__)("Text direction","ry-line"),type:"select",default:"ltr",options:["","ltr","rtl"]},action:{label:(0,o.__)("Action","ry-line"),type:"select",default:"",options:["","postback","uri","message","datetimepicker","clipboard"]}},header:{backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color"]},separator:{label:(0,o.__)("Separator","ry-line"),type:"select",default:"false",options:["","true","false"]},separatorColor:{label:(0,o.__)("Separator color","ry-line"),type:"color",verifyType:["color"]}},hero:{backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color"]},separator:{label:(0,o.__)("Separator","ry-line"),type:"select",default:"false",options:["","true","false"]},separatorColor:{label:(0,o.__)("Separator color","ry-line"),type:"color",verifyType:["color"]}},body:{backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color"]},separator:{label:(0,o.__)("Separator","ry-line"),type:"select",default:"false",options:["","true","false"]},separatorColor:{label:(0,o.__)("Separator color","ry-line"),type:"color",verifyType:["color"]}},footer:{backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color"]},separator:{label:(0,o.__)("Separator","ry-line"),type:"select",default:"false",options:["","true","false"]},separatorColor:{label:(0,o.__)("Separator color","ry-line"),type:"color",verifyType:["color"]}},box:{layout:{label:(0,o.__)("Layout","ry-line"),type:"select",required:!0,default:"horizontal",options:["horizontal","vertical","baseline"]},backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color_alpha"],alpha:!0},borderColor:{label:(0,o.__)("Border color","ry-line"),type:"color",verifyType:["color"]},borderWidth:{label:(0,o.__)("Border width","ry-line"),type:"select",default:"none",options:["","none","light","normal","medium","semi-bold","bold"]},cornerRadius:{label:(0,o.__)("Border radius","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},width:{label:(0,o.__)("Width","ry-line"),type:"text"},maxWidth:{label:(0,o.__)("Max Width","ry-line"),type:"text"},height:{label:(0,o.__)("Height","ry-line"),type:"text"},maxHeight:{label:(0,o.__)("Max Height","ry-line"),type:"text"},flex:{label:(0,o.__)("Flex","ry-line"),type:"number",min:0},justifyContent:{label:(0,o.__)("Justification","ry-line"),type:"select",default:"flex-start",options:["","flex-start","center","flex-end","space-between","space-around","space-evenly"]},alignItems:{label:(0,o.__)("Vertical alignment","ry-line"),type:"select",default:"flex-start",options:["","flex-start","center","flex-end"]},spacing:{label:(0,o.__)("Spacing","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},paddingAll:{label:(0,o.__)("Padding All","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},paddingTop:{label:(0,o.__)("Padding Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},paddingBottom:{label:(0,o.__)("Padding Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},paddingStart:{label:(0,o.__)("Padding Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},paddingEnd:{label:(0,o.__)("Padding End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},position:{label:(0,o.__)("Position","ry-line"),type:"select",default:"relative",options:["","relative","absolute"]},offsetTop:{label:(0,o.__)("Offset Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetBottom:{label:(0,o.__)("Offset Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetStart:{label:(0,o.__)("Offset Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetEnd:{label:(0,o.__)("Offset End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},action:{label:(0,o.__)("Action","ry-line"),type:"select",default:"",options:["","postback","uri","message","datetimepicker","clipboard"]}},button:{color:{label:(0,o.__)("Color","ry-line"),type:"color",verifyType:["color"]},style:{label:(0,o.__)("Style","ry-line"),type:"select",default:"link",options:["","primary","secondary","link"]},flex:{label:(0,o.__)("Flex","ry-line"),type:"number",min:0},height:{label:(0,o.__)("Height","ry-line"),type:"select",default:"md",options:["","sm","md"]},gravity:{label:(0,o.__)("Vertical alignment","ry-line"),type:"select",default:"top",options:["","top","center","bottom"]},scaling:{label:(0,o.__)("Scaled according APP","ry-line"),type:"select",default:"false",options:["","true","false"]},adjustMode:{label:(0,o.__)("Font size adjust Mode","ry-line"),type:"select",options:["","shrink-to-fit"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},position:{label:(0,o.__)("Position","ry-line"),type:"select",default:"relative",options:["","relative","absolute"]},offsetTop:{label:(0,o.__)("Offset Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetBottom:{label:(0,o.__)("Offset Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetStart:{label:(0,o.__)("Offset Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetEnd:{label:(0,o.__)("Offset End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},action:{label:(0,o.__)("Action","ry-line"),type:"select",required:!0,default:"uri",options:["postback","uri","message","datetimepicker","clipboard"]}},image:{url:{label:(0,o.__)("URL","ry-line"),type:"text",verifyType:["required","url","image"],required:!0,default:"",description:(0,o.__)("Image format: JPEG or PNG","ry-line")},backgroundColor:{label:(0,o.__)("Background color","ry-line"),type:"color",verifyType:["color"]},flex:{label:(0,o.__)("Flex","ry-line"),type:"number",min:0},size:{label:(0,o.__)("Size","ry-line"),type:"select",default:"md",options:["","xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl","full"]},aspectRatio:{label:(0,o.__)("Aspect Ratio","ry-line"),type:"text",default:"1:1"},aspectMode:{label:(0,o.__)("Aspect Mode","ry-line"),type:"select",default:"fit",options:["","cover","fit"]},align:{label:(0,o.__)("Horizontal alignment","ry-line"),type:"select",default:"center",options:["","start","center","end"]},gravity:{label:(0,o.__)("Vertical alignment","ry-line"),type:"select",default:"top",options:["","top","center","bottom"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},position:{label:(0,o.__)("Position","ry-line"),type:"select",default:"relative",options:["","relative","absolute"]},offsetTop:{label:(0,o.__)("Offset Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetBottom:{label:(0,o.__)("Offset Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetStart:{label:(0,o.__)("Offset Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetEnd:{label:(0,o.__)("Offset End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},action:{label:(0,o.__)("Action","ry-line"),type:"select",default:"",options:["","postback","uri","message","datetimepicker","clipboard"]}},icon:{url:{label:(0,o.__)("URL","ry-line"),type:"text",verifyType:["required","url","image"],required:!0,default:"",description:(0,o.__)("Image format: JPEG or PNG","ry-line")},size:{label:(0,o.__)("Size","ry-line"),type:"select",default:"md",options:["","xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"]},aspectRatio:{label:(0,o.__)("Aspect Ratio","ry-line"),type:"text",default:"1:1"},scaling:{label:(0,o.__)("Scaled according APP","ry-line"),type:"select",default:"false",options:["","true","false"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},position:{label:(0,o.__)("Position","ry-line"),type:"select",default:"relative",options:["","relative","absolute"]},offsetTop:{label:(0,o.__)("Offset Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetBottom:{label:(0,o.__)("Offset Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetStart:{label:(0,o.__)("Offset Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetEnd:{label:(0,o.__)("Offset End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]}},text:{text:{label:(0,o.__)("Text","ry-line"),type:"textarea"},color:{label:(0,o.__)("Color","ry-line"),type:"color",verifyType:["color"]},size:{label:(0,o.__)("Font size","ry-line"),type:"select",default:"md",options:["","xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"]},scaling:{label:(0,o.__)("Scaled according APP","ry-line"),type:"select",default:"false",options:["","true","false"]},adjustMode:{label:(0,o.__)("Font size adjust Mode","ry-line"),type:"select",options:["","shrink-to-fit"]},weight:{label:(0,o.__)("Font weight","ry-line"),type:"select",default:"regular",options:["","regular","bold"]},style:{label:(0,o.__)("Font style","ry-line"),type:"select",default:"normal",options:["","normal","italic"]},decoration:{label:(0,o.__)("Decoration","ry-line"),type:"select",default:"none",options:["","none","underline","line-through"]},wrap:{label:(0,o.__)("Wrap text","ry-line"),type:"select",default:"false",options:["","true","false"]},lineSpacing:{label:(0,o.__)("Line spacing","ry-line"),type:"text"},maxLines:{label:(0,o.__)("Max Lines","ry-line"),type:"number",min:0,step:1},flex:{label:(0,o.__)("Flex","ry-line"),type:"number",min:0},align:{label:(0,o.__)("Horizontal alignment","ry-line"),type:"select",default:"center",options:["","start","center","end"]},gravity:{label:(0,o.__)("Vertical alignment","ry-line"),type:"select",default:"top",options:["","top","center","bottom"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]},position:{label:(0,o.__)("Position","ry-line"),type:"select",default:"relative",options:["","relative","absolute"]},offsetTop:{label:(0,o.__)("Offset Top","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetBottom:{label:(0,o.__)("Offset Bottom","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetStart:{label:(0,o.__)("Offset Start","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},offsetEnd:{label:(0,o.__)("Offset End","ry-line"),type:"select",default:"",options:["","none","xs","sm","md","lg","xl","xxl"]},action:{label:(0,o.__)("Action","ry-line"),type:"select",default:"",options:["","postback","uri","message","datetimepicker","clipboard"]}},span:{text:{label:(0,o.__)("Text","ry-line"),type:"text"},color:{label:(0,o.__)("Color","ry-line"),type:"color",verifyType:["color"]},size:{label:(0,o.__)("Font size","ry-line"),type:"select",options:["","xxs","xs","sm","md","lg","xl","xxl","3xl","4xl","5xl"]},weight:{label:(0,o.__)("Font weight","ry-line"),type:"select",default:"regular",options:["","regular","bold"]},style:{label:(0,o.__)("Font style","ry-line"),type:"select",default:"normal",options:["","normal","italic"]},decoration:{label:(0,o.__)("Decoration","ry-line"),type:"select",default:"none",options:["","none","underline","line-through"]}},separator:{color:{label:(0,o.__)("Color","ry-line"),type:"color",verifyType:["color"]},margin:{label:(0,o.__)("Margin","ry-line"),type:"select",default:"none",options:["","none","xs","sm","md","lg","xl","xxl"]}},postback:{label:{label:(0,o.__)("Label","ry-line"),type:"text"},data:{label:(0,o.__)("Webhook data","ry-line"),type:"text",verifyType:["required"],required:!0},displayText:{label:(0,o.__)("Message text","ry-line"),type:"textarea"}},message:{label:{label:(0,o.__)("Label","ry-line"),type:"text"},text:{label:(0,o.__)("Message text","ry-line"),type:"textarea",verifyType:["required"],required:!0}},uri:{label:{label:(0,o.__)("Label","ry-line"),type:"text"},uri:{label:(0,o.__)("URL","ry-line"),type:"text",verifyType:["required","url"],required:!0},"altUri.desktop":{label:(0,o.__)("Desktop URL","ry-line"),type:"text"}},datetimepicker:{label:{label:(0,o.__)("Label","ry-line"),type:"text"},data:{label:(0,o.__)("Webhook data","ry-line"),type:"text",verifyType:["required"],required:!0},mode:{label:(0,o.__)("Mode","ry-line"),type:"select",required:!0,default:"date",options:["date","time","datetime"]},initial:{label:(0,o.__)("Default","ry-line"),type:"text"},min:{label:(0,o.__)("Min","ry-line"),type:"text"},max:{label:(0,o.__)("Max","ry-line"),type:"text"}},clipboard:{label:{label:(0,o.__)("Label","ry-line"),type:"text"},clipboardText:{label:(0,o.__)("Clipboard text","ry-line"),type:"textarea",verifyType:["required"],required:!0}}};class m{currentNodeId=null;nodeIdCounter=1;constructor(){this.template={treeNode:wp.template("flex-tree-node"),addNode:wp.template("flex-add-node"),propertyEditor:wp.template("flex-property-editor"),propertyText:wp.template("flex-property-text"),propertyColor:wp.template("flex-property-color"),propertyTextarea:wp.template("flex-property-textarea"),propertyNumber:wp.template("flex-property-number"),propertySelect:wp.template("flex-property-select")},this.init()}init(){const e=t()("#flex-message-content").val();let n;if(e)try{n=JSON.parse(e)}catch(e){n=h}else n=h;this.renderTree(n),this.updateNodeToggle(),this.updateJsonOutput()}renderTree(e){this.nodeIdCounter=1;const n=t()("#flex-message-tree");n.empty(),n.append(this.createTreeNode(e,null,"bubble"))}createTreeNode(e,n,o=null){const r="node-"+this.nodeIdCounter++,i=o||e.type,s=this.getNodeShowInfo(i,e),a=t()(this.template.treeNode({id:r,type:i,icon:s.icon,label:s.label})),l={data:e,parentId:n,type:i};a.attr("data-node-info",JSON.stringify(l));const c=a.find(".flex-tree-node-children");switch(i){case"bubble":["header","hero","body","footer"].forEach(t=>{c.append(this.createTreeNode(e[t]||{},r,t))});break;case"header":case"hero":case"body":case"footer":Object.keys(e).length>0&&c.append(this.createTreeNode(e,r,null));break;case"box":case"text":e.contents&&e.contents.forEach(e=>{c.append(this.createTreeNode(e,r,null))})}return a}getNodeShowInfo(e,t){let n="";switch(e){case"text":t.contents||(n=t.text||"");break;case"span":n=t.text||"";break;case"button":t.action&&t.action.label&&(n=t.action.label.substring(0,15)+(t.action.label.length>15?"...":""));break;case"box":n=`[${t.layout}]`}return{icon:f[e]||"",label:n}}selectNode(e){t()(".flex-tree-node").removeClass("selected"),t()(`.flex-tree-node[data-node-id="${e}"]`).addClass("selected"),this.currentNodeId=e,this.updateButtonStates(),this.renderPropertyEditor()}getAddableChildTypes(e){if("box"===e.type){const t=g.box;return t&&"object"==typeof t&&!Array.isArray(t)&&t[e.data.layout]||[]}const t=g[e.type];return Array.isArray(t)?t:[]}updateButtonStates(){const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`),n=e.data("node-info");if(!n)return;const{type:o}=n;let r=this.getAddableChildTypes(n).length>0;r&&["header","hero","body","footer"].includes(o)&&(r=0===e.find(".flex-tree-node").length),t()("#node-create").prop("disabled",!r);const i=!["bubble","header","hero","body","footer"].includes(o);t()("#node-up").prop("disabled",!i),t()("#node-down").prop("disabled",!i);const s=!["bubble","header","hero","body","footer"].includes(o);t()("#node-delete").prop("disabled",!s)}renderPropertyEditor(){const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`).data("node-info");if(!e)return;const{data:n,type:o}=e,r=this.getNodeProperties(o,n);t()("#flex-node-property").html(this.template.propertyEditor({type:o}));const i=t()("#flex-node-property .flex-property-fields");r?.forEach(e=>{const n=`property${e.type.charAt(0).toUpperCase()}${e.type.slice(1)}`;if(void 0!==this.template[n]){switch(e.id=`${this.currentNodeId}-property-${e.name}`,i.append(this.template[n](e)),e.type){case"color":t()(`#${e.id}`).wpColorPicker({change:()=>{setTimeout(()=>{this.updateNodeProperty(t()(`#${e.id}`))})}});break;case"textarea":t()(`#${e.id}`).trigger("input")}"action"===e.name&&t()(`#${e.id}`).trigger("change")}})}renderActionPropertyEditor(e){const n=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`).data("node-info");if(!n)return;const o=e.val();if(e.closest(".flex-property-field").nextAll(".flex-property-field").remove(),!o||""===o)return;const r=this.getNodeProperties(o,n.data.action),i=t()("#flex-node-property .flex-property-fields");r?.forEach(e=>{const t=`property${e.type.charAt(0).toUpperCase()}${e.type.slice(1)}`;void 0!==this.template[t]&&(e.id=`${this.currentNodeId}-property-${e.name}`,i.append(this.template[t](e)))})}getNodeProperties(e,t){const n=y[e];if(void 0!==n)return Object.entries(n).map(([e,n])=>{const o={...n,name:e};return void 0!==t[e]?"action"===e?o.value=t[e].type:(o.value=t[e],"boolean"==typeof o.value&&(o.value=String(o.value))):o.value="",o.options&&Array.isArray(o.options)&&(o.options=o.options.map(e=>"string"==typeof e?{value:e,label:e}:e)),o})}async updateNodeProperty(e){const n=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`),o=n.data("node-info");if(!o)return;const{data:r}=o,i=e.data("property");let s;if("number"===e.attr("type")?(s=parseFloat(e.val()),isNaN(s)&&(s=null)):(s=e.val(),"true"===s?s=!0:"false"===s&&(s=!1)),""===s||null===s)delete r[i];else{if("action"===i){s={type:s};const e=y[s.type];e&&Object.entries(e).forEach(([e,n])=>{const o=t()(`[data-property="${e}"]`).val();void 0===o?void 0!==r.action&&void 0!==r.action[e]&&(s[e]=r.action[e]):null!==o&&""!==o&&(s[e]=o)}),r.action={...s}}r[i]=s}n.data("node-info",o),"action"!==i&&t()('[data-property="action"]').trigger("change"),await this.verifyNodeProperties(o),n.data("node-info",o),this.displayPropertyErrors(i,o.propertyErrors),this.updateTreeNodeLabel(this.currentNodeId),this.updateJsonOutput()}async verifyNodeProperties(e){const{data:t,type:n}=e,o=y[n];if(e.propertyErrors={},o)for(const[n,r]of Object.entries(o)){const o=t[n];if(r.verifyType){const t=await this.verifyPropertyValue(r.verifyType,o);""!==t&&(e.propertyErrors[n]=t)}}}displayPropertyErrors(e,n){t()(".flex-property-fields .verify-info").hide(),t()(".flex-property-fields .invalid").removeClass(["invalid"]),n&&0!==Object.keys(n).length&&Object.entries(n).forEach(([e,n])=>{const o=t()(`.flex-property-field.field-${e}`);o.length>0&&(o.addClass(["invalid"]),o.find(".verify-info").text(n).show())})}async verifyPropertyValue(e,t){for(const n of e){let e="";switch(n){case"required":null!=t&&""!==t||(e=(0,o.__)("Value is required","ry-line"));break;case"url":e=this.verifyUrl(t);break;case"image":e=await this.verifyImageUrl(t);break;case"color":e=this.verifyColor(t,!1);break;case"color_alpha":e=this.verifyColor(t,!0)}if(""!==e)return e}return""}verifyUrl(e){if(!e||"string"!=typeof e)return"";try{if("https:"!==new URL(e).protocol)return(0,o.__)("Only HTTPS protocol is allowed","ry-line")}catch(e){return(0,o.__)("Invalid URL","ry-line")}return""}async verifyImageUrl(e){return e&&"string"==typeof e?await new Promise(t=>{const n=new Image,r=setTimeout(()=>{n.src="",t((0,o.__)("Unable to load image","ry-line"))},5e3);n.onload=()=>{clearTimeout(r),t("")},n.onerror=()=>{clearTimeout(r),t((0,o.__)("Unable to load image","ry-line"))},n.src=e}):""}verifyColor(e,t){return e&&"string"==typeof e?(t?/^#([0-9A-Fa-f]{2}){3,4}$/:/^#([0-9A-Fa-f]{2}){3}$/).test(e)?"":(0,o.__)("Invalid color","ry-line"):""}updateTreeNodeLabel(e){const n=t()(`.flex-tree-node[data-node-id="${e}"]`),o=n.data("node-info");if(!o)return;const{data:r,type:i,propertyErrors:s}=o,a=this.getNodeShowInfo(i,r),l=n.find(".flex-tree-node-label:nth(0)");a.label?l.text(a.label):l.text("");const c=n.find(".flex-tree-node-header:first");s&&Object.keys(s).length>0?c.addClass("invalid"):c.removeClass("invalid")}showAddNodeMenu(){const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`).data("node-info");if(!e)return;const n=this.getAddableChildTypes(e);if(0===n.length)return;t()(".flex-add-node-menu").remove();const o=n.map(e=>({type:e,icon:f[e]||""})),r=t()(this.template.addNode({types:o}));r.css({position:"absolute",top:t()("#node-create").offset().top+t()("#node-create").outerHeight(),left:t()("#node-create").offset().left,zIndex:1e3}),t()("body").append(r),r.on("click",".flex-node-menu-item",e=>{e.stopPropagation(),this.addNode(t()(e.currentTarget).data("node-type")),r.remove(),t()(document).off("click.flexMenu")}),setTimeout(()=>{t()(document).on("click.flexMenu",e=>{t()(e.target).closest(".flex-add-node-menu").length||(r.remove(),t()(document).off("click.flexMenu"))})},100)}addNode(e){const n=this.createNodeData(e),o=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`).find("> .flex-tree-node-children");o.append(this.createTreeNode(n,this.currentNodeId,e)),this.selectNode(o.find("> .flex-tree-node").last().data("node-id")),this.updateNodeToggle(),this.updateJsonOutput()}createNodeData(e){const t={type:e},n=y[e];return n&&Object.entries(n).forEach(([e,n])=>{!0===n.required&&(t[e]=n.default)}),t}moveNodeUp(){if(!this.currentNodeId)return;const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`);if(0===e.length)return;const n=e.prev(".flex-tree-node");0!==n.length&&(e.insertBefore(n),this.updateJsonOutput())}moveNodeDown(){if(!this.currentNodeId)return;const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`);if(0===e.length)return;const n=e.next(".flex-tree-node");0!==n.length&&(e.insertAfter(n),this.updateJsonOutput())}deleteNode(){const e=t()(`.flex-tree-node[data-node-id="${this.currentNodeId}"]`),n=e.data("node-info");if(!n||!n.parentId)return;const{type:o}=n;["bubble","header","hero","body","footer"].includes(o)||(e.remove(),this.selectNode(n.parentId),this.updateNodeToggle(),this.updateJsonOutput())}updateNodeToggle(){t()(".flex-tree-node").each(function(){const e=t()(this),n=e.find("> .flex-tree-node-header .flex-tree-node-toggle"),o=e.find("> .flex-tree-node-children");o.children().length>0?(n.find(".dashicons").show(),o.addClass("has-children")):(n.find(".dashicons").hide(),o.removeClass("has-children"))})}updateJsonOutput(){const e=this.cleanJsonData(this.getJsonData());u("#flex-message-preview",e),t()("#flex-message-content").val(JSON.stringify(e,null,4)).trigger("input")}getJsonData(){const e=t()("#flex-message-tree > .flex-tree-node");return 0===e.length?{}:this.nodeToJson(e)}copyNodeProperties(e,t,n){const o=y[n];void 0!==o&&Object.entries(o).forEach(([n,o])=>{if(void 0!==e[n]&&null!==e[n])if("action"===n)t.action=e[n],this.copyNodeProperties(e[n],t.action,e[n].type);else if("color"===o.type){const o=e[n];"rgb("===o.substring(0,4)?t[n]="#"+o.substring(4,o.length-1).split(",").map(e=>parseInt(e.trim()).toString(16).padStart(2,"0").toUpperCase()).join(""):"rgba("===o.substring(0,5)?t[n]="#"+o.substring(5,o.length-1).split(",").map((e,t)=>parseInt(String(parseFloat(e.trim())*(3===t?255:1))).toString(16).padStart(2,"0").toUpperCase()).join(""):t[n]=o}else t[n]=e[n];else if(!0===o.required){var r;t[n]=null!==(r=o.default)&&void 0!==r?r:""}})}nodeToJson(e){const n=e.data("node-info");if(!n)return null;const{data:o,type:r}=n,i={};switch(this.copyNodeProperties(o,i,r),r){case"bubble":i.type=r,i.styles={},e.find("> .flex-tree-node-children > .flex-tree-node").each((e,n)=>{const o=t()(n),r=o.data("node-info");if(!r)return;const s=r.type;if(["header","hero","body","footer"].includes(s)){const e=this.getBlockContent(o);e&&(i[s]=e,i.styles[s]={},this.copyNodeProperties(r.data,i.styles[s],s))}});break;case"header":case"hero":case"body":case"footer":return null;case"box":case"text":i.type=r,i.contents=[],e.find("> .flex-tree-node-children > .flex-tree-node").each((e,n)=>{const o=this.nodeToJson(t()(n));o&&i.contents.push(o)});break;default:Object.keys(i).length>0&&(i.type=r)}return i}getBlockContent(e){const t=e.find("> .flex-tree-node-children > .flex-tree-node");if(0===t.length)return null;const n=t.first();return this.nodeToJson(n)}cleanJsonData(e){if(Array.isArray(e))return e.map(e=>this.cleanJsonData(e)).filter(e=>!(Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length));if("object"==typeof e&&null!==e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n],r=this.cleanJsonData(o);if(Array.isArray(r)&&0===r.length)continue;if("object"==typeof r&&null!==r&&0===Object.keys(r).length)continue;t[n]=r}return t}return"string"==typeof e?e.trim():e}}let v;function b(){"flex"===t()("#message-type").val()?v||(v=new m):v&&(v=void 0,t()("#flex-message-tree").empty(),t()("#flex-node-property").empty())}function x(){const e=t()("#flex-message-content").val();t()("#flex-message-content").val((0,o.__)("Paste JSON here. Only bubble type is supported.","ry-line")).prop("readonly",!1),t()("#flex-message-content").one("focus",function(){t()("#flex-message-content").val(""),t()(document).off("click.flexImport")}),t()("#flex-message-content").one("input",function(){t()("#flex-message-content").prop("readonly",!0);const n=t()("#flex-message-content").val();try{const e=JSON.parse(n);if("object"!=typeof e||null===e||Array.isArray(e))throw new Error("Invalid JSON structure");if("bubble"!==e.type)throw new Error("Only bubble type is supported")}catch(n){t()("#flex-message-content").val(e)}t()("#flex-message-tree").empty(),t()("#flex-node-property").empty(),v=new m}),setTimeout(function(){t()(document).on("click.flexImport",function(n){t()(n.target).is("#flex-message-content")||(t()("#flex-message-content").val(e).prop("readonly",!0),t()(document).off("click.flexImport"))})},100)}function _(){navigator.clipboard.writeText(t()("#flex-message-content").val()),alert((0,o.__)("Flex Message JSON copied to clipboard.","ry-line"))}function w(){v&&v.currentNodeId&&v.showAddNodeMenu()}function $(){v&&v.currentNodeId&&v.moveNodeUp()}function A(){v&&v.currentNodeId&&v.moveNodeDown()}function C(){v&&v.currentNodeId&&v.deleteNode()}function S(e){e.stopPropagation(),v&&v.selectNode(t()(e.currentTarget).closest(".flex-tree-node").data("node-id"))}function O(e){e.stopPropagation(),v&&t()(e.currentTarget).closest(".flex-tree-node").toggleClass("collapsed")}function k(){v&&(v.updateNodeProperty(t()(this)),"action"===t()(this).data("property")&&v.renderActionPropertyEditor(t()(this)))}function E(){t()("#flex-message-template-string").data("target","#"+t()(this).attr("id"))}t()(function(){t()("#use-messages").select2({language:{inputTooShort:function(){return(0,o.__)("Enter search keyword","ry-line")},searching:function(){return(0,o.__)("Loading...","ry-line")},loadingMore:function(){return(0,o.__)("Loading...","ry-line")},noResults:function(){return(0,o.__)("No matching message found","ry-line")}},allowClear:!0,placeholder:(0,o.__)("Search flex message","ry-line"),minimumInputLength:1,width:"100%",ajax:{url:ajaxurl+"?action=ry-line/get-flex",type:"POST",dataType:"json",data:function(e){return{search:e.term||"",page:e.page||1,post_id:t()("#post_ID").val(),_ajax_nonce:ryLineFlex.nonce.get}},processResults:function(e,t){return t.page=t.page||1,{results:e.data.results,pagination:{more:e.data.next}}}}}),t()("#message-type").on("change",b).trigger("change"),t()("#json-import").on("click",x),t()("#json-export").on("click",_),t()("#node-create").on("click",w),t()("#node-up").on("click",$),t()("#node-down").on("click",A),t()("#node-delete").on("click",C),t()("#flex-message-tree").on("click",".flex-tree-node-header",S),t()("#flex-message-tree").on("click",".flex-tree-node-toggle",O),t()("#flex-node-property").on("change","input, select, textarea",k),t()("#flex-node-property").on("focus","input, select, textarea",E)})})()})();